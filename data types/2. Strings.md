## String형 정의
String형은 문자열, 이진 데이터 등을 위한 자료형이다. 이진 안전(binary safe) 문자열이기 때문에 이미지나 실행파일 등 문자열 이외의 데이터도 저장할 수 있다. 

❗️이진 안전이란 데이터를 처리할 때 어떤 특정 형식(텍스트, 숫자)에 국한되지 않고, 모든 유형의 데이터(이진 데이터 포함)를 안전하게 처리할 수 있는 것을 의미한다.

또한 정수, 부동소수점(INCRBYFLOAT) 모두 String형에 속하며, String형에 정의된 Bitmap형 이라는 비트 단위로 조작할 수 있는 보조자료형이 존재한다. 

String형의 주요 특징과 유스케이스는 다음과 같다.
- 특징
	- 키에 값을 일대일로 대응시키는 가장 간단한 자료형이다.
	- 이진 안전 문자열이다.
- 유스케이스
	- 캐시
		- 간단한 키와 값의 쌍으로 대응되는 문자열
		- 세션 정보
		- 이미지 데이터 등 이진 데이터
	- 카운터
		- 방문자 수 등 접근 수 카운트
	- 실시간 메트릭스
		- 각 항목의 수치를 파악할 수 있는 지표 등

❗️공식 문서에서 권장하는 레디스의 키 이름 짓는 방법
1. 길이가 너무 긴 키의 경우는 부적절하다.
	1. 키가 너무 길면 메모리 사용 효율이 악화되어 데이터 세트로 키를 찾을 때 키와 비교하는 비용이 증가한다. 이런 경우에는 키를 SHA1를 사용하여 메모리의 대역폭 효율을 향상시킬 수 있다.
2. 길이가 너무 짧은 키의 경우도 종종 부적절하다.
	1. 무엇을 나타내고자 하는지 쉽게 알 수 없기 때문에 부적절하다.
3. 단어 필드 사이를 구별하여 스키마를 설계한다.
	1. 콜론(:), 마침표(.), 대시(/) 등 여러 단어 필드 사이를 구별하여 스키마를 설계하는 것이 좋다.
## String형 명렁어
String형 명령어는 값의 내용과 관계없이 사용할 수 있는 것과 값이 숫자일 경우에만 사용할 수 있는 것으로 나눌 수 있다. 또한 명령어별 시간 복잡도가 다르기 때문에 이를 참고해서 사용해야 한다.

String형과 관련된 더 많은 명령어는 아래 문서에서 확인이 가능.
https://redis.io/docs/latest/commands/?group=string
###### GET: 키값 가져오기
키값을 가져오며, 키가 존재하지 않는 경우 nil을 반환한다.  
시간 복잡도: O(1)
```redis
GET key
```
###### SET: 키에 값 저장하기
키와 값의 쌍을 지정하여 값을 설정한다. EX 옵션 같이 시간을 지정하는 옵션을 사용하여 TTL을 설정할 수 있다.   
시간 복잡도: O(1)  
주요 옵션은 다음과 같다.
- EX seconds - 지정한 만료 시간을 초(양수 정수) 단위로 설정합니다. 
- PX milliseconds - 지정한 만료 시간을 밀리초(양수 정수) 단위로 설정합니다. 
- EXAT timestamp-seconds - 키가 만료될 지정한 유닉스 시간을 초(양수 정수) 단위로 설정합니다.  
- PXAT 타임스탬프-밀리초 -- 키가 만료될 지정한 유닉스 시간을 밀리초(양의 정수)로 설정합니다. 
- NX(Not Exists) -- 키가 아직 없는 경우에만 설정합니다. 
- XX(Exists) -- 키가 이미 있는 경우에만 설정합니다. 
- KEEPTTL -- 키와 연결된 유효 기간을 유지합니다. 
- GET -- 키에 저장된 이전 문자열을 반환하거나 키가 존재하지 않으면 nil을 반환합니다. 키에 저장된 값이 문자열이 아닌 경우 오류가 반환되고 SET이 중단됩니다.
```redis
SET key value [NX | XX] [GET] [EX seconds | PX milliseconds | EXAT unix-time-seconds | PXAT unix-time-milliseconds | KEEPTTL]
```
###### MGET: 여러 개의 키값 가져오기
여러 개의 키를 지정하여 한 번에 값을 가져온다.  
시간 복잡도: O(N)
```redis
MGET key [key ...]
```
###### MSET: 여러 개의 키에 값 저장하기
여러 개의 키쌍을 지정하여 한 번에 값을 저장한다. 키가 이미 존재하는 경우에는 덮어쓴다.   
시간 복잡도: O(N)
```redis
MSET key value [key value ...]
```
###### APPEND: 키에 값 덮어쓰기
키가 존재하는 경우, 키값 끝에 인수 내용을 추가한다. 키가 존재하지 않는 경우에는 인수를 값으로 하는 새로운 String형 키를 만든다.   
시간 복잡도: O(1)
```redis
APPEND key value
```
###### STRLEN: 키의 길이 가져오기
키값의 문자열 길이를 반환한다.  
시간 복잡도: O(1)
```redis
STRLEN key
```
###### GETRANGE: 범위를 지정하여 키값 가져오기
키값을 기준으로 범위(시작, 끝)를 지정하여 데이터를 반환한다.  
시간 복잡도: O(N)
```redis
GETRANGE key start end
```
###### SETRANGE: 범위를 지정하여 키값 저장하기
키, 오프셋, 값을 조합하여 지정하고 지정한 오프셋의 위치를 중심으로 키값을 저장한다.  
시간 복잡도: O(1)
```redis
SETRANGE key offset value
```

❗️String RTT(Round Trip Time)
매번 GET/SET 명령어를 실행하면 RTT가 발생해서 요청, 응답을 왕복하는 시간 오버헤드가 발생할 수 있다.  
이 문제는 여러 요청을 하나로 모아서 MGET/MSET 명령어를 사용하면 RTT를 줄여 개선할 수 있다.

#### 값이 숫자인 경우에만 사용할 수 있는 명령어
아래 명령어는 키값을 10진수 정수 부호 또는 배정도(Double Precision) 부동소수점 숫자로 해석할 수 없는 경우에는 **(error) ERR value is not an integer or out of range, (error) ERR value is not a valid float** 와 같은 오류가 반환된다.
###### INCR: 값을 1만큼 증가시키기
키값을 1만큼 증가시킨다. 지정한 키가 존재하지 않은 경우에는 동작 전에 0을 값으로 저장한다. 또한 값을 정수로 표현할 수 없으면 오류를 반환한다.  
시간 복잡도: O(1)
```redis
INCR key
```
###### INCRBY: 값을 지정한 정수만큼 증가시키기
키값을 지정한 정수만큼 증가시킨다. 지정한 키가 존재하지 않은 경우에는 동작 전에 0을 값으로 저장한다. 또한 값을 정수로 표현할 수 없으면 오류를 반환한다.  
시간 복잡도: O(1)
```redis
INCRBY key increment
```
###### INCRBYFLOAT: 값을 지정한 부동소수점만큼 증가시키기
키값을 지정한 부동소수점만큼 증가시킨다. 지정한 키가 존재하지 않은 경우에는 동작 전에 0을 값으로 저장한다. 또한 값을 정수로 표현할 수 없으면 오류를 반환한다. 값을 감소시키는 경우에는 increment에 음수값을 사용한다.  
시간 복잡도: O(1)
```redis
INCRBYFLOAT key increment
```
###### DECR: 값을 1만큼 감소시키기
키값을 1만큼 감소시킨다. 지정한 키가 존재하지 않는 경우에는 동작 전에 0을 값으로 저장한다. 또한 값을 정수로 표현할 수 없으면 오류를 반환한다.  
시간 복잡도: O(1)
```redis
DECR key
```
###### DECRBY: 값을 지정한 정수만큼 감소시키기
키값을 지정한 값만큼 감소시킨다. 지정한 키가 존재하지 않는 경우에는 동작 전에 0을 값으로 저장한다. 또한 값을 정수로 표현할 수 없으면 오류를 반환한다.  
시간 복잡도: O(1)
```redis
DECRBY key decrement
```
